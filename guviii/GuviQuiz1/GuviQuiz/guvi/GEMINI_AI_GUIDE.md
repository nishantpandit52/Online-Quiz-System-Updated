# Quiz Application - AI Integration Guide

## ü§ñ Gemini AI Question Generation Feature

This quiz application now supports **AI-generated questions** using Google's Gemini API. Questions are dynamically generated based on:
- **Domain** (Java, Math, Science, General Knowledge, etc.)
- **Difficulty Level** (Easy, Medium, Hard)

---

## üöÄ Setup Instructions

### Step 1: Get Your Gemini API Key

1. Visit [Google AI Studio](https://makersuite.google.com/app/apikey)
2. Sign in with your Google account
3. Click **"Get API Key"** or **"Create API Key"**
4. Copy your API key

### Step 2: Configure the Application

#### Option A: Use the Setup Utility (Recommended)

Run the setup utility:
```bash
javac GeminiSetup.java Config.java GeminiQuestionGenerator.java Question.java QuestionBank.java
java GeminiSetup
```

Follow the prompts to:
- Enter your API key
- Test the connection
- Configure AI settings
- Generate sample questions

#### Option B: Manual Configuration

1. Run the application once to generate `config.properties`
2. Open `config.properties` and edit:
```properties
# Your Gemini API key
gemini.api.key=YOUR_API_KEY_HERE

# Enable/disable AI questions
use.ai.questions=true

# Percentage of AI-generated questions (0-100)
ai.questions.percentage=50

# Cache AI questions for reuse
cache.ai.questions=true
```

---

## üìñ How It Works

### Hybrid Question System

The application uses a **hybrid approach**:
- **Default Questions**: Pre-loaded questions from the question bank
- **AI Questions**: Dynamically generated from Gemini AI

Example: If you request 10 questions with 50% AI setting:
- 5 questions from the default question bank
- 5 questions generated by AI in real-time

### Question Generation Process

1. **User selects**: Domain + Difficulty + Question Count
2. **System checks**: Available default questions
3. **AI generates**: Additional questions based on percentage setting
4. **Caching** (if enabled): AI questions are saved for future use
5. **Shuffling**: All questions are mixed and presented randomly

---

## ‚öôÔ∏è Configuration Options

### `use.ai.questions` (true/false)
- **true**: Enable AI question generation
- **false**: Use only default questions

### `ai.questions.percentage` (0-100)
- **0**: No AI questions (default questions only)
- **50**: 50% AI, 50% default (recommended)
- **100**: All AI-generated questions

### `cache.ai.questions` (true/false)
- **true**: Save AI questions to question bank (faster, saves API calls)
- **false**: Generate fresh questions each time

---

## üí° Usage Examples

### Example 1: 50% AI Questions
```
Config: ai.questions.percentage=50
Request: 10 Java questions (Medium)
Result: 5 default + 5 AI-generated = 10 total
```

### Example 2: 100% AI Questions
```
Config: ai.questions.percentage=100
Request: 10 Math questions (Hard)
Result: 0 default + 10 AI-generated = 10 total
```

### Example 3: Not Enough Default Questions
```
Config: ai.questions.percentage=30
Available: 3 default Science questions (Easy)
Request: 10 Science questions (Easy)
Result: 3 default + 7 AI-generated = 10 total
```

---

## üîß Programmatic Usage

### Using QuestionBank with AI

```java
// Initialize
QuestionBank questionBank = new QuestionBank();

// Set API key (if not in config)
questionBank.setGeminiApiKey("your-api-key");

// Enable AI questions
questionBank.setUseAiQuestions(true);
questionBank.setAiQuestionsPercentage(50);

// Get questions (hybrid mode)
List<Question> questions = questionBank.getQuestionsForDomain(
    "Java",      // domain
    "Medium",    // difficulty
    10           // count
);

// Get only default questions
List<Question> defaultQuestions = questionBank.getQuestionsForDomain(
    "Java",      // domain
    "Medium",    // difficulty
    10,          // count
    false        // don't use AI
);

// Pre-generate and cache AI questions
questionBank.generateAndCacheAiQuestions("Java", "Hard", 20);
```

### Direct Gemini API Usage

```java
// Create generator
GeminiQuestionGenerator generator = new GeminiQuestionGenerator("your-api-key");

// Generate questions
List<Question> questions = generator.generateQuestions(
    "Machine Learning",  // domain
    "Hard",              // difficulty
    5                    // count
);

// Test connection
boolean isConnected = generator.testConnection();
```

---

## üìä Benefits of AI Integration

### ‚úÖ Advantages
- **Unlimited Questions**: Never run out of questions for any topic
- **Custom Domains**: Generate questions for any subject
- **Fresh Content**: New questions every time (if caching disabled)
- **Adaptive Difficulty**: AI understands difficulty levels
- **Explanations**: Each question includes detailed explanation

### ‚ö†Ô∏è Considerations
- **API Costs**: Free tier has limits, check [Google AI pricing](https://ai.google.dev/pricing)
- **Internet Required**: AI generation needs internet connection
- **Response Time**: AI questions take 2-5 seconds to generate
- **Quality Variance**: AI questions may occasionally need manual review

---

## üîí Security Notes

- **Never commit** your API key to version control
- Add `config.properties` to `.gitignore`
- Use environment variables for production deployments
- Rotate API keys periodically

---

## üêõ Troubleshooting

### Problem: "Gemini API connection failed"
**Solutions:**
- Check your internet connection
- Verify your API key is correct
- Check if you've exceeded API quota
- Visit [Google AI Studio](https://makersuite.google.com/app/apikey) to verify key status

### Problem: "Error parsing Gemini response"
**Solutions:**
- Check if the API service is available
- Try generating fewer questions at once
- Check the application logs for detailed error messages

### Problem: Questions not generating
**Solutions:**
- Verify `use.ai.questions=true` in config
- Check if API key is configured: `config.isGeminiApiKeyConfigured()`
- Run `GeminiSetup` again to reconfigure

### Problem: Slow question loading
**Solutions:**
- Enable caching: `cache.ai.questions=true`
- Pre-generate questions using `generateAndCacheAiQuestions()`
- Reduce `ai.questions.percentage` to use more cached questions

---

## üìö API Reference

### QuestionBank Methods

| Method | Description |
|--------|-------------|
| `setGeminiApiKey(String)` | Set the Gemini API key |
| `setUseAiQuestions(boolean)` | Enable/disable AI questions |
| `setAiQuestionsPercentage(int)` | Set percentage of AI questions (0-100) |
| `getQuestionsForDomain(String, String, int)` | Get hybrid questions |
| `getQuestionsForDomain(String, String, int, boolean)` | Get questions with AI control |
| `generateAndCacheAiQuestions(String, String, int)` | Pre-generate AI questions |
| `testGeminiConnection()` | Test API connection |
| `isAiGenerationAvailable()` | Check if AI is configured |

### Config Methods

| Method | Description |
|--------|-------------|
| `getGeminiApiKey()` | Get current API key |
| `setGeminiApiKey(String)` | Set API key |
| `useAiQuestions()` | Check if AI is enabled |
| `setUseAiQuestions(boolean)` | Enable/disable AI |
| `getAiQuestionsPercentage()` | Get AI percentage |
| `setAiQuestionsPercentage(int)` | Set AI percentage |
| `cacheAiQuestions()` | Check if caching enabled |
| `setCacheAiQuestions(boolean)` | Enable/disable caching |
| `isGeminiApiKeyConfigured()` | Check if key is valid |

---

## üìù License & Attribution

This application uses [Google's Gemini API](https://ai.google.dev/) for AI-powered question generation.

- Gemini API: ¬© Google LLC
- Application Code: Your License Here

---

## ü§ù Contributing

To add more AI features:
1. Fork the repository
2. Create a feature branch
3. Implement your changes
4. Submit a pull request

---

## üìû Support

For issues or questions:
- Check the troubleshooting section above
- Review [Gemini API documentation](https://ai.google.dev/docs)
- Open an issue in the repository

---

**Happy Quiz Building! üéì**
